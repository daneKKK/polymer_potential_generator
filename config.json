{
  "general": {
    "smiles_polymer": "[*]CC(c1ccccc1)[*]",
    "output_dir": "./polystyrene_active",
    "device": "cpu"
  },
  "fingerprinting": {
    "datasets": [
      {
        "path": "polymers.cfg",
        "fingerprints_cache": "fps_big.npy",
        "sampling_rate_N": 10
      }
    ],
    "mace_model_path": "2023-12-03-mace-mp.model",
    "type_map_cfg_to_symbol": { 
      "0": "C", "1": "H", "2": "O"
    }
  },
  "query_generation": {
    "monomer": true,
    "rings": [2, 3],
    "linear": [2, 3, 4]
  },
  "selection": {
    "num_output_configs": 1200,
    "intra_config_clusters": 3,
    "umap_params": {
      "n_neighbors": 40,
      "min_dist": 0.1,
      "n_components": 64
    },
    "clustering_params": {
      "distance_threshold": 20.0,
      "n_clusters": null
    }
  },
  "mtp_training": {
    "enabled": false,
    "run_params": "mpirun -n 8",
    "mtp_executable_path": "/home/daniil/bin/mlp",
    "initial_potential": "/home/daniil/work/polystyrene/trained.mtp",
    "output_potential_name": "trained.mtp",
    "training_command": "train",
    "training_params": {
      "energy-weight": 1.0,
      "force-weight": 0.01,
      "stress-weight": 0.001,
      "max-iter": 500,
      "bfgs-conv-tol": "1e-3",
      "weighting": "vibrations",
      "skip-preinit": false
    }
  },
  "mtp_validation": {
    "enabled": true,
    "query_cfg_filename": "query_structures.cfg"
  },
  "postprocessing": {
    "save_smiles_xyz": true,
    "smiles_xyz_filename": "query_structures.xyz",
    "save_relevant_xyz": true,
    "relevant_xyz_filename": "relevant_dataset.xyz",
    "generate_umap_plot": false,
    "umap_plot_filename": "umap_visualization.png",
	"umap_plot_params": {
      "n_neighbors": 40,
      "min_dist": 0.1
    }
  },
  "active_learning": {
    "enabled": true,
    "n_iterations": 10,
    "calculate_all_at_once": false,

    "thresholds": {
      "md_start": 2.5,
      "md_break": 10.0
    },

    "md_sampler_config": {
      "lammps_executable_path": "/home/daniil/bin/lmp_mpi",
      "run_params": "mpirun -n 1",
      "script_template_path": "lammps.in",
      "steps": 5000,
      "temperature": 500
    },
    
    "ab_initio_config": {
      "suite": "vasp",
      "executable_path": "/home/daniil/bin/vasp_std",
      "run_params": "mpirun -n 8",
      "input_files": {
        "INCAR": "vasptest/INCAR",
        "KPOINTS": "vasptest/KPOINTS",
        "POTCARS": {
        	"C": "vasptest/C_POTCAR",
        	"H": "vasptest/H_POTCAR",
        	"O": "vasptest/O_POTCAR"
        }
      }
    }
  }
}
